# 2SAT

Boolean Function Satisfaction Problem

^ = and
v = or

XOR = сложение по модулю 2
(количество 1ц - нечётное?)

Вопрос в том, можно ли присвоить переменным значения, чтобы выражение было True

(a and !b) or (b XOR c) or (q and c) (...)


O*(2^n)
O* - игнорируем полиномильный множитель.

Просто SAT нерешаема за полниномиальное время (P != NP)
"CNF-SAT": (\[NOT\]x1 OR \[NOT\]x2) AND (\[NOT\]x3 OR \[NOT\]x3) AND (...) AND ...


Существуют и монотонные задачи, простые

Но если 2-SAT...
Но если 3-SAT...

4-SAT раскрывается в 3-SAT легко
(a OR b OR c OR d)
|
v
(a OR b) OR (c OR d)
|
v
(e OR f) and (NOT e OR a OR b) and (NOT f OR c OR d)


Вводим переменную, котоая <= рассматриваемой скобки

_________________________
|   x   |   y   |x <= y |\
|   0   |   0   |   1   |\
|   0   |   1   |   1   |\
|   1   |   0   |   0   |\
|   1   |   1   |   1   |
_________________________

e соответствует "a OR b"
(NOT e OR a OR b)


Пример задачи 2SAT в народном хозяйстве: разместить надписи рядом с городами об их названиями: можно либо справа, либо слева, но есть ограничения на наложения.

2-col: тривиальный алгоритм: нет циклов нечётной длины, затем обходим просто все вершины, меняя цвет каждый раз.
3-col: приходится делать полный перебор => фундаментально сложнее, чем 2-col

2SAT тоже фундаментально проще, чем 3-SAT
Если (a or b) и сказали, что a = 0, то сразу сделаем b = 1

В случае 3SAT: несколько вариантов всегда => Combinatorial Explosion


a      |     b      |     c     |      d
\
    \
        \
            \
not_a  |    not_b    |   not_c   |   not_d

Стрелочки: знаки "следовательно" (Импликация).

a => not_b
...

"exists 'not_a => b'" -> "exists 'not_b => a'"

Для любого ребра есть ребро из инвертированного его конца в начало

Если каким-то образом есть следствие из x -> not_x и в обратную сторону (not_x -> x)

Находим компоненты сильной связности.
Они согласованы.

Правило для их выбора:

Берём для каждой переменной бОльший номер компоненты сильной связности и записывем ответ.
Находим ОДНО из решений.

Чтобы найти ещё решение, можно добавить к SAT-у запрещатель данного решения.

Можно использовать n-sat для размещения надписей на улицах:

(p1 OR p2 OR p3 OR ...) AND {(NOTp1 NOT NOTp2) AND (NOTp1 NOT NOTp3) AND ...}
