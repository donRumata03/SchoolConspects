# Вычислительная геометрия

### Выпуклость

#### Проверка многоугольника на выпуклость

Следует проверить, что все ориентации одинаковы
$$
orient(1, 2, 3) == orient(2, 3, 4) == orient(3, 4, 1) == orient(4, 1, 2)
$$

### Дана ломаная, проверить, является ли она выпуклым многогранником

Если просто та же проверка, может быть ломаная, которая очень сильно закручена.

Минимальное количество соторон, при котором такая проверка проваливается - 5, пример - пятиконечная звезда, постоянно заворачиваем в одну сторону, но это явно не выпуклый многогранник.

Правильный алгоритм - кроме проверки поворота в одну сторону, нужно ещё проверить, что сумарный поворот - 360, а не 720 и не 1080!

Так как там тип double, вместо проверки на чёткое равенство 360 градусов, следует смотреть, к чему оно ближе.

Но есть и более простой способ. При обходе ломаной достаточно рассматривать функцию зависимости игрека от итерации. Она должна быть унимодальной!

### Принадлежность точки многоугольнику

А) Выпуклому. Проверяем, что все ориентации одинаковы ({1, 2, x}, {2, 3, x}, {3, 4, x}....)

Б) Невыпуклому. Выбираем луч, который не пересекает никакую вершину (иначе - муторно проверять, какой случай), проверяем, чётное ли количество раз он пересекает отрезки между послед вершинами многоугольника. Для этого для каждой стороны проверим, пересекается ли луч отрезком. 

## Выпуклая оболочка

множества точек - это минимальное по включению выпуклое надмножество этих точек.

Лулзовый метод: генерировать случайные лучи в большом количестве, находить лучшие по проекциям

Алгоритм Грэхэма. См. EMAXX